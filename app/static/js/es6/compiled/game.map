{"version":3,"file":"game.js","sources":["/Users/courey/Documents/code/builder/app/static/js/es6/game.es6.js"],"names":[],"mappings":"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","sourcesContent":["/*jshint unused:false*/\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  function init(){\n    $('#login').click(login);\n    $('#seed').click(seed);\n    $('#showForest').click(getForest);\n    $('#tradingPost').on('click', '#trade', trade);\n    $('#forest').on('click', '.tree.alive>#grow', grow);\n    $('#forest').on('click', '.tree.alive.adult.unchopped>#chop', chop);\n  }\n\n  function chop(){\n    var tree = $(this).parent();\n    var treeID = tree.data('id');//this is in the tree.jade file\n    $.ajax({\n      url: `/tree/${treeID}/chop`,\n      type: 'PUT',\n      success: response =>{\n         tree.replaceWith(response.html);\n         $('#userStats').text(`wood: ${response.userData.wood} cash: ${response.userData.cash}`);\n      }\n    });\n  }\n\n  function grow(){\n    var tree = $(this).parent();\n    var treeID = tree.data('id');\n    $.ajax({\n      url: `/tree/${treeID}/grow`,\n      type: 'PUT',\n      dataType: 'html',\n      success: treeObj =>{\n        tree.replaceWith(treeObj);\n      }\n    });\n  }\n\n  function getForest(){\n    var userId = $('#username').data('userid');\n    $.ajax({\n      url: `/forest/${userId}`,\n      type: 'GET',\n      dataType: 'html',\n      success: trees =>{\n        $('#forest').empty().append(trees);\n      }\n    });\n  }\n\n  function seed(){\n    var userId = $('#username').data('userid');\n    $.ajax({\n      url: '/seed',\n      type: 'POST',\n      dataType: 'html',\n      data: {userid: userId},\n      success: tree =>{\n        $('#forest').append(tree);\n      }\n    });\n  }\n\n  function login(event){\n    var loginData = $(this).closest('form').serialize();\n    $.ajax({\n      url: '/login',\n      type: 'POST',\n      data: loginData,\n      success: response =>{\n        $('#login').prev().val('');\n        $('#username').attr('data-userid', response.user._id);\n        $('#username').text(response.user.username);\n        $('#userStats').text(`wood: ${response.user.wood} cash: ${response.user.cash}`);\n        $('#tradingPost').append(response.html);\n      }\n    });\n    event.preventDefault();\n  }\n\n  function trade(event){\n    var tradeAmount = $(this).closest('form').serialize().split('=');\n    var userID = $(this).closest('div').prev().prev().data('userid');\n    var tradeAndUser = {tradeAmount: tradeAmount[1], userID: userID};\n\n    $.ajax({\n      url: '/trade',\n      type: 'PUT',\n      data: tradeAndUser,\n      success: response =>{\n        $('#trade').prev().val('');\n        $('#userStats').text(`wood: ${response.wood} cash: ${response.cash}`);\n        //console.log(response.body);\n      }\n    });\n    event.preventDefault();\n  }\n\n})();\n"]}